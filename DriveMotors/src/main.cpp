#include <Arduino.h>

int iVAB, iVBC, iVCA;
int iVAN, iVBN, VCN;
int step;
  /************************************* 
              6       3       5
              1       2       4

              4       6       2
              3       5       1
  **************************************/
int step1(){
 /*************************************
  *       1 0 0
  *       0 0 1
  ****************************************/
  PORTD = 0b1110000;
  PORTB = 0b0000000;
}
int step2(){
  /*************************************
  *       0 1 0
  *       0 0 1
  ****************************************/
  PORTD = 0b1110000;
  PORTB = 0b0000000;
}
int step3(){
  /*************************************
  *       0 1 0
  *       1 0 0
  ****************************************/
}
int step4(){
  /*************************************
  *       0 0 1
  *       1 0 0
  ****************************************/
}
int step5(){
  /*************************************
  *       0 0 1
  *       0 1 0
  ****************************************/
}
int step6(){
  /*************************************
  *       1 0 0
  *       0 1 0
  ****************************************/
}

void InterruptTimer(){
  if(step == 6){
    step = 0;
  }
}

void setup() {
  TCCR1A = 0;
  TCNT1 = 0;
  TCCR1B |= (1 << WGM12) | (1 << CS11) | (1 << CS10); 
  TIMSK1 |= (1 << OCIE1A); 
  OCR1A = map(analogRead(A7), 0, 1023, 5000, 200);
  sei();
}

void loop() {
  switch (step){
    case 1:
      step1();
    break;
    case 2:
      step2();
    break;
    case 3:
      step3();
    break;
    case 4:
      step4();
    break;
    case 5:
      step5();
    break;
    case 6:
      step6();
    break;
  }
}